
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework/2.6.0/annexes/annex-5/annex-5.02-design-guide-data-sharing-scenarios/">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>European Digital Identity Wallet - European Digital Identity</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="European Digital Identity Wallet - European Digital Identity" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework/2.6.0/assets/images/social/annexes/annex-5/annex-5.02-design-guide-data-sharing-scenarios.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework/2.6.0/annexes/annex-5/annex-5.02-design-guide-data-sharing-scenarios/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="European Digital Identity Wallet - European Digital Identity" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework/2.6.0/assets/images/social/annexes/annex-5/annex-5.02-design-guide-data-sharing-scenarios.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#eudi-wallet-design-guide-data-sharing-scenarios" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="European Digital Identity" class="md-header__button md-logo" aria-label="European Digital Identity" data-md-component="logo">
      
  <img src="../../../media/eu-logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            European Digital Identity
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              European Digital Identity Wallet
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  European Digital Identity Wallet

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../architecture-and-reference-framework-main/" class="md-tabs__link">
        
  
  
    
  
  Architecture and reference framework

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../discussion-topics/" class="md-tabs__link">
        
  
  
    
  
  Discussion topics

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../technical-specifications/" class="md-tabs__link">
        
  
  
    
  
  Technical specifications

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="European Digital Identity" class="md-nav__button md-logo" aria-label="European Digital Identity" data-md-component="logo">
      
  <img src="../../../media/eu-logo.jpg" alt="logo">

    </a>
    European Digital Identity
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    European Digital Identity Wallet
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture-and-reference-framework-main/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture and reference framework
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../discussion-topics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Discussion topics
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-specifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Technical specifications
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="eudi-wallet-design-guide-data-sharing-scenarios">EUDI WALLET DESIGN GUIDE - DATA SHARING SCENARIOS</h1>
<p><em>v1.11.0</em></p>
<h2 id="1-situations-for-identificationauthorization"><strong>1 Situations for Identification/Authorization</strong></h2>
<p>In alignment with section '6.4' of the Architecture Reference Framework (ARF),
there are four main types of flows that the EUDI Wallet must support. These main
flows are as follows:</p>
<ul>
<li>Remote same-device flow</li>
<li>Remote cross-device flow</li>
<li>Proximity supervised flow</li>
<li>Proximity unsupervised flow</li>
</ul>
<p>It shall be noted that remote supervised cases are also considered as possible
in some use cases, but the document focuses mainly on the types of flows
detailed in the ARF, as listed in the above list.</p>
<p>The 'EUDI Wallet Design Guide' aims to expand on the defined 'Service
Blueprints' (published in 'ARF v1.1.0' where the focus is on the 'remote
same-device' and 'proximity' flows. However, design interactions applicable for
the 'remote cross-device' flow will also be analysed at a high-level.</p>
<hr />
<p>In relation to the remote flows, it shall be noted that the data exchange occurs
over the Internet, but the key differentiator is related to the devices being
utilized in the flows. In the 'remote same-device' flow, the EUDI Wallet User is
on a mobile device, requesting access to a Relying Party's service (i.e. app
or browser) and authorizes by using the EUDI Wallet app, which is also installed
on the same device.</p>
<p><img alt="Login interface showing EUDI Wallet login button on mobile device" src="../media/5.02/Login_with_EUDI_wallet.png" /></p>
<p>In contrast, in the 'remote cross-device' flow, the EUDI Wallet user consumes
information from a Relying Party service on another device than the EUDI Wallet
device, e.g. user visits the relying party's service on their web browser on a
PC and uses the EUDI Wallet app to scan a QR Code on a login page in order to
get access to a service provided by the Relying Party.</p>
<p><img alt="Login screen with EUDI Wallet login option on desktop browser" src="../media/5.02/Login_with_EUDI_wallet2.png" /></p>
<p>In relation to the 'proximity' flows, both flows are related to scenarios where
the EUDI Wallet User is physically close to a Relying Party, the user does not
necessarily have internet connectivity and the data presentation occurs using
proximity protocols (NFC, Bluetooth, QR- Code, etc.). The key differentiator in
the two proximity flows, is that in the supervised flow, the EUDI Wallet
presents data (e.g. a mobile driving license) to, or under the supervision of, a
human acting as a Relying Party (who may operate a device of their own). In the
unsupervised flow, the EUDI Wallet presents verifiable attributes to a machine
without human supervision.</p>
<p><img alt="Share information screen showing QR and NFC sharing options" src="../media/5.02/Share_information.png" /></p>
<hr />
<h2 id="2-identifications"><strong>2 Identifications</strong></h2>
<h3 id="21-identification-points"><strong>2.1 Identification Points</strong></h3>
<p>The following points are depicted as identification points within the described
user flows:</p>
<ul>
<li>identification on application launch</li>
<li>identification when authorizing disclosure of data in proximity flows
(possibility to be disabled via corresponding settings) (authorization process)</li>
<li>identification when presenting via deep link (authorization process)</li>
<li>identification after being idle</li>
</ul>
<hr />
<h3 id="22-identification-methods"><strong>2.2 Identification Methods</strong></h3>
<p>A set of 'authentication means' applicable for the EUDI Wallet are being
analysed in this Design Guide. These are:</p>
<ul>
<li>PIN</li>
<li>Pattern</li>
<li>Biometrics</li>
<li>Password</li>
<li>OTP</li>
</ul>
<p><img alt="Multiple authentication method screens showing PIN, pattern, biometrics, password and OTP options" src="../media/5.02/Identification_methods.png" /></p>
<p>It shall be clarified that different levels of security shall be required per
use case, e.g. sharing a user's 'Person Identification Data' is associated with
'High Level of Assurance', while presenting a 'loyalty card' may be associated
with simpler means of authentication.</p>
<p>Thus, it is expected that a combination of 'authentication means' are available
for the user to select and be used as per the needs of the applicable use case.
However, it shall be clarified that the available authentication means are
defined by the 'EUDI Wallet Provider' and the 'Device Manufacturer' and in
principle shall adhere to the native way of the operating system, e.g. password
and biometrics.</p>
<p>It shall be noted that this section reflects a preliminary analysis which is
based on desk research and not on usability testing/field research and it shall
further be expanded and validated with detailed research/user testing.</p>
<hr />
<p>The analysed authentication means are being scored-in a scale of 0 to 10-against
a set of design- related criteria, aiming to quantify the pros and cons of each
mean.</p>
<p>The criteria used for the rating are:</p>
<ul>
<li><strong>Convenience</strong>: The level of intuitiveness of each authentication method</li>
<li><strong>Experience</strong>: Overall user experience from a user perspective (i.e. smooth experience)</li>
<li><strong>Speed</strong>: Speed of use for the user's authentication process</li>
<li><strong>Error Prevention</strong>: Assisting users to minimize potential errors in the
authentication process</li>
<li><strong>Accessibility</strong>: Adherence to accessibility standards/specificities</li>
</ul>
<p><img alt="Radar chart comparing different authentication methods across multiple criteria" src="../media/5.02/Authentication_means.png" /></p>
<blockquote>
<p><strong><em>NOTE:</em></strong> <em>Ratings have been based on a desk study and not actual first-hand
testing.</em></p>
</blockquote>
<hr />
<h2 id="authentication-methods-comparison">Authentication Methods Comparison</h2>
<table>
<thead>
<tr>
<th>Method</th>
<th>Pros</th>
<th>Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PIN</strong></td>
<td>Short and easy authentication method  Flexibility in PIN requirements</td>
<td>Slower unlocking compared to other authentication methods  Requires users to memorize numbers  Recovery can be hard if you forget the PIN  Often predictable</td>
</tr>
<tr>
<td><strong>Pattern</strong></td>
<td>Simple and intuitive to use</td>
<td>Many people choose simple, predictable patterns  Input method is visible to those around you  Belongs to a third party</td>
</tr>
<tr>
<td><strong>Password</strong></td>
<td>More secure than a PIN  Flexibility in password requirements</td>
<td>Easy to guess  Slower unlocking  Password recovery can be as hard as a PIN recovery</td>
</tr>
<tr>
<td><strong>Biometrics (fingerprint)</strong></td>
<td>Fast and convenient authentication method</td>
<td>Fingerprints can be replicated  Fingerprint distortion can cause failures  Belongs to a third party</td>
</tr>
<tr>
<td><strong>Biometrics (face scan)</strong></td>
<td>Fast unlocking method  It doesn't require memorizing codes and passwords</td>
<td>Light effects and facial changes can cause failures  Screen orientation and distance from the camera can impact readability  The scanner can be fooled by user's photos or sometimes familial similarities  Provided by a third party</td>
</tr>
<tr>
<td><strong>One Time Password (OTP)</strong></td>
<td>Alleviates the burden associated with memorizing passwords  Usually utilized as 2FA on top of PIN/Passwords but may also be used as an alternative to passwords (applicable after first  registration to a service)   Offers a sense of advanced safety for the user</td>
<td>Associated with higher 'interaction cost' (i.e. users are requested to type a code)  May raise confusion if OTP is not received on time - multiple attempts to receive an OTP  May require clear and concise OTP text (e.g. SMS or email)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="3-receiving-configuring-data-request-by-the-user"><strong>3 Receiving &amp; Configuring Data Request (by the User)</strong></h2>
<p>The EUDI Wallet should provide a secure and user-friendly environment by
empowering users with granular control over presenting their data, ensuring
transparency and clarity, and enabling user control and consent.</p>
<ul>
<li>
<p><strong>Selective Disclosure</strong>: The EUDI Wallet should empower users to have
granular control over the information they present. The EUDI Wallet should
provide clear options for selective disclosure, allowing users to choose between
mandatory and optional information to be presented, intending to emphasize on
the data points which are required to be shared by the user. It is recommended
that optional data shall be grouped in collapsed sections and be unselected by
default. On the other hand, it should be clearly depicted that mandatory data
cannot be unselected. The app should show users a concise summary of the
requested data, clearly indicating which fields are mandatory and which are
optional, as per each Member State (MS) / Relying Party (RP) policy decision.
This empowers users to make informed decisions about what information they want
to disclose, ensuring their privacy preferences are respected, with the risk of
not completing a data request in a later step (more details in section 5 Error
Cases).</p>
</li>
<li>
<p><strong>Transparency and Clarity</strong>: Transparency is key in ensuring that users are
always aware of what information is being presented. The EUDI Wallet should
include clear and concise explanations about the purpose of each data request,
the relying party's identity, and how the data will be used, highlighting data
storage and 'intent to store' aspects to the user. Utilising plain language and
avoiding technical jargon can enhance understanding and minimise user confusion.</p>
</li>
<li>
<p><strong>User Control and Consent</strong>: To promote a sense of trust and control, the
EUDI Wallet should prioritise user consent throughout the data-sharing process.
The app should provide intuitive controls to enable users to configure their
preferences easily. Clear notifications should be presented when changes are
made, ensuring users are always aware of their data-sharing settings and can
adjust them as needed.</p>
</li>
<li>
<p><strong>Pre-authorisation</strong>: Pre-authorisation is a feature allowing the user to
give automatic consent for releasing certain attributes, prior to any
interaction. 'Pre-authorisation' as a concept may be implemented in the form of
one or multiple 'profiles'. For example, if the user selects an 'age
verification' profile, the EUDI Wallet will always release the corresponding
attribute (e.g. age_over_NN) when requested by a Relying Party. However, if the
user chooses to set a 'law enforcement' profile, the EUDI Wallet will release
all attributes with a Relying Party, without giving the User the option of
withholding consent during the transaction.</p>
</li>
</ul>
<p>It shall be highlighted that the 'pre-authorisation' concept may optionally be
  implemented, under the following conditions:</p>
<pre><code>- The pre-authorisation mechanism shall give the user the possibility to
select which attribute(s) the EUDI Wallet Instance must release with which
specific Relying Parties without asking for user consent during the
interaction. User consent shall never apply indiscriminately to all Relying
Parties or to all attributes.

- A Relying Party for which pre-consent is given shall have been authenticated
by the EUDI Wallet at least once. This is a consequence of the previous point
as it is not possible to select a Relying Party if that Relying Party is not
unambiguously known to the Wallet Instance. It shall be noted that this
requirement holds for both proximity use cases and remote use cases.

- Giving pre-authorisation shall be a 'friction-full' process, meaning that it
shall not be too easy and requires a considered user decision. Possibly, giving
pre-authorisation should require an additional user authentication step.

- The EUDI Wallet shall be able to present to the user a clear overview of
all pre-authorisation given, with the ability to easily change or withdraw
one or more of these pre-authorisations.

- It shall be noted that pre-authorisations shall have a validity limit or
the user should be regularly prompted to review any set up
pre-authorisations.

- If pre-authorisation applies for one or more requested attributes, the
EUDI Wallet shall release these attributes without first notifying the user.
However, immediately afterwards the EUDI Wallet shall notify the User that
one or more attributes were released on the basis of pre-consent. That
notification shall include an option to withdraw the applicable user
consent, but also highlight 'intent to store' aspects to the user.

- It shall be noted in the case where request also includes additional
optional data request, it would be proposed pre-authorisation would prevail
the potential request of optional data, since the concept of
pre-authorisation would be introduced to simplify the user flow. However,
further exploration and user research would be required for such flows.

- Solution providers shall duly consider the associated security/privacy
risks associated with the pre-authorisation feature in conjunction with the
specific conditions listed above.
</code></pre>
<ul>
<li><strong>Relying Party Trustworthiness</strong>: Trust in relying parties is crucial for
users to feel confident sharing their personal information. The EUDI Wallet
should incorporate clear information and visual indicators or badges e.g. Trust
Mark could be utilised to indicate whether the Relying Party is considered
trusted, based on the underpinning trust framework established. Providing users
with this data helps them make informed decisions about which parties they trust
and are comfortable sharing their data with. Further information must be
provided upon clicking on the badge regarding what it means to be a trusted
party and how you become one.</li>
</ul>
<p>The EUDI Wallet aims to promote user confidence and foster a sense of control
and privacy, thereby enhancing the overall adoption and utility of the app.</p>
<p><img alt="Data sharing screens showing mandatory and optional information requests from Relying Party" src="../media/5.02/RP_requests_info.png" /></p>
<hr />
<h2 id="4-authorization"><strong>4 Authorization</strong></h2>
<h3 id="41-remote-online-authorization-and-authentication"><strong>4.1 Remote (Online) Authorization and Authentication</strong></h3>
<p>To enable authorization for data sharing during online processes, the following
methods can be employed:</p>
<h4 id="411-same-device"><strong>4.1.1 Same Device</strong></h4>
<ul>
<li><strong>Deep Link</strong>: When sharing data on the same device as the wallet app, users
can simply click on a deep link provided by the third-party service, such as
"Log in via EUDI Wallet." This action will instantly launch the EUDI Wallet app
and present the authorization screen.</li>
</ul>
<hr />
<h4 id="412-cross-device"><strong>4.1.2 Cross Device</strong></h4>
<ul>
<li><strong>QR Code</strong>: When sharing data from a different device, users can scan a QR
code generated by the third-party service using their EUDI Wallet. This will
seamlessly open the app and display the authorization screen.</li>
</ul>
<hr />
<h3 id="42-proximity-based-authorization"><strong>4.2 Proximity-Based Authorization</strong></h3>
<p>To enable authorization for data sharing during offline processes, the following
methods can be employed:</p>
<h4 id="421-cross-device-attended"><strong>4.2.1 Cross Device (Attended)</strong></h4>
<ul>
<li><strong>QR/Bluetooth</strong>: When presenting data to a Relying Party (attended service),
users can display a QR code on their EUDI Wallet to be scanned by the Relying
Party's reader device and transmit the information via Bluetooth using their
EUDI Wallet.</li>
<li><strong>NFC/Bluetooth</strong>: Alternatively, users can use Near Field Communication (NFC)
to engage with the Relying Party's device and Bluetooth to transmit the data to
the Relying Party service through their EUDI Wallet.</li>
</ul>
<hr />
<h4 id="422-cross-device-unattended"><strong>4.2.2 Cross Device (Unattended)</strong></h4>
<ul>
<li><strong>QR/Bluetooth</strong>: When presenting data to a Relying Party (unattended
service), users can display a QR code and present the information via Bluetooth
through their EUDI Wallet.</li>
<li><strong>NFC/Bluetooth</strong>: Similarly, users can utilize NFC and Bluetooth to transmit
the data to the Relying Party service through their EUDI Wallet.</li>
</ul>
<p>During the authorization processes, a comprehensive screen will be presented to
the citizen which shall clearly display both mandatory and optional data
requested by the third-party service (as presented in 'section 3'). The citizens
will have the freedom to choose which optional information they wish to share,
providing them with complete control over their personal data. Additionally, a
clear indication of the data transfer outcome shall be presented to the users in
all scenarios described above, e.g. descriptive message regarding successful
data transfer.</p>
<hr />
<h2 id="5-error-cases"><strong>5 Error Cases</strong></h2>
<p>Handling/Display of error messages in different scenarios.
(Principles/guidelines/consequences on how these shall be presented/structured etc.)</p>
<ul>
<li><strong>5.1 Erroneous user credentials</strong></li>
</ul>
<p>When the user attempts to log in to the app, expects to receive feedback
  indicating the success or failure of their login attempt.</p>
<p><img alt="Login error screen showing incorrect password message" src="../media/5.02/Erroneous_user_credentials.png" />
  <em>The user gets an error message indicating that his credentials were wrong:</em></p>
<ul>
<li><strong>5.2 Multiple failed attempts to login or present information</strong></li>
</ul>
<p>When the user is facing multiple failed attempts (e.g., 3) when trying to log
  in, they get an error message as feedback from the app.
  The error message typically indicates that the entered credentials are incorrect
  or that there has been a problem with the identification process. It can also
  guide the user in resolving the issue by reviewing the credentials or checking
  for typos, etc., and prompts the user to try again in 2 minutes or try to recover
  their password, hence the recovery functionality may be presented as a fallback
  option for the user in case his/her log-in attempts are not successful. By
  limiting the number of login attempts, the app reduces the risk of malicious
  factors attempting to gain unauthorized access by repeatedly guessing passwords
  or usernames.</p>
<p><img alt="Login screen showing too many attempts error with timer" src="../media/5.02/Erroneous_user_credentials2.png" /></p>
<p><em>The user gets an error message indicating that they must try again later:</em></p>
<ul>
<li><strong>5.3 The document is considered invalid (expired/revoked)</strong></li>
</ul>
<p>When the user presents an invalid document through the app, (e.g., a driver's
  license to a police officer) the app displays an error message on the user's
  screen, indicating that the document could not be verified because it is
  expired or revoked.</p>
<p><img alt="Error message showing additional documents required" src="../media/5.02/Error.png" /></p>
<p><em>The user gets a message indicating the status of the document:</em></p>
<p>However, the user should be warned if a document they have saved within the
  app is expired or revoked. The warning could be presented as a notification or
  prompt within the app, indicating that a saved document is approaching or has
  already passed its expiration date. The message could include information on
  how to renew or update the document, directing the user to the appropriate
  authorities, or providing relevant instructions.</p>
<p><img alt="Warning notification about document expiration with renewal option" src="../media/5.02/Warning.png" /></p>
<p><em>The user gets a message indicating that the document expires shortly:</em></p>
<p>By providing proactive reminders about expired documents, the app can
  contribute to a smoother user experience, help users remain compliant with
  regulations, and foster trust and confidence in the app's functionality and
  user support.</p>
<ul>
<li><strong>5.4 The Relying party is not considered trusted. Is not verified or could
not be verified (Maybe address safety)</strong></li>
</ul>
<p>When the user attempts to share information through the app with a third party
  -a physical person or a digital service- and it turns out that the third party
  is not valid or is a fraud, they must get an alert warning message.</p>
<p><img alt="Alert warning about untrusted relying party with security options" src="../media/5.02/Alert.png" /></p>
<p><em>The user gets a message indicating that they must not share information with
  that party. The options are to report it, to close the app, or to search for
  information about security:</em></p>
<ul>
<li><strong>5.5 The user fails to present requested document</strong></li>
</ul>
<p>When a user scans their QR code using a QR code scanning device, they receive
  a prompt to provide additional documents, such as an ID. If the required
  document is not present in the user's app, an error message is displayed,
  notifying the user that the document is not stored in their app.</p>
<p><img alt="Error message showing missing ID card document with add document option" src="../media/5.02/Error2.png" /></p>
<p><em>The error message then suggests adding the document from the available
  documents list.</em></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.path", "navigation.top", "toc.integrate", "toc.follow"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>