
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.3">
    
    
      
        <title>E pseudonyms including user authentication mechanism - EUDI Wallet</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.d7758b05.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#e-pseudonyms-including-user-authentication-mechanism" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="EUDI Wallet" class="md-header__button md-logo" aria-label="EUDI Wallet" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 9V1.5h-3V9h-3V1.5h-3V9h-3V1.5H4.65V9H3v1.5h18V9zm0 4.5h-3V21h-3v-7.5h-3V21h-3v-7.5H4.65V21H3v1.5h18V21h-1.5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EUDI Wallet
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              E pseudonyms including user authentication mechanism
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  EUDI Wallet

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../architecture-and-reference-framework-main/" class="md-tabs__link">
        
  
    
  
  Architecture and reference framework

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Discussion topics

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="EUDI Wallet" class="md-nav__button md-logo" aria-label="EUDI Wallet" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 9V1.5h-3V9h-3V1.5h-3V9h-3V1.5H4.65V9H3v1.5h18V9zm0 4.5h-3V21h-3v-7.5h-3V21h-3v-7.5H4.65V21H3v1.5h18V21h-1.5z"/></svg>

    </a>
    EUDI Wallet
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EUDI Wallet
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture-and-reference-framework-main/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture and reference framework
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discussion topics
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      1 Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-discussion-paper-topic-description" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Discussion Paper Topic Description
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-key-words" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Key Words
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-document-structure" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Document Structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-legal-requirements-for-pseudonyms" class="md-nav__link">
    <span class="md-ellipsis">
      2 Legal Requirements for Pseudonyms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Legal Requirements for Pseudonyms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-eidas-20-about-pseudonyms" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 [eIDAS 2.0] about Pseudonyms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-cir20242979-about-pseudonyms" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 [CIR.2024.2979] about Pseudonyms
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      3 Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-use-case-a-pseudonymous-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Use Case A: Pseudonymous Authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-use-case-b-presentation-of-attributes-with-subsequent-authentication-using-pseudonyms" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Use Case B: Presentation of Attributes with Subsequent Authentication using Pseudonyms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-questions-related-to-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Questions Related to Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-high-level-approach-to-pseudonyms" class="md-nav__link">
    <span class="md-ellipsis">
      4 High-Level Approach to Pseudonyms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 High-Level Approach to Pseudonyms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-introduction-to-passkeys" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Introduction to Passkeys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-overview-of-webauthn" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 Overview of [WebAuthn]
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 Overview of [WebAuthn]">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421-registration" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 Registration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 Authentication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-challenges" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 Challenges
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-relation-to-other-topics" class="md-nav__link">
    <span class="md-ellipsis">
      5 Relation to Other Topics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 Relation to Other Topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-privacy-risks-and-mitigations" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Privacy Risks and Mitigations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.1 Privacy Risks and Mitigations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511-relying-party-linkability" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.1 Relying Party Linkability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#512-ca-linkability" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.2 CA Linkability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#513-drawbacks-of-different-attestation-types" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.3 Drawbacks of Different Attestation Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-wallet-unit-attestations" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Wallet Unit Attestations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.2 Wallet Unit Attestations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#521-questions-related-to-wallet-unit-attestation" class="md-nav__link">
    <span class="md-ellipsis">
      5.2.1 Questions Related to Wallet Unit Attestation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-digital-credential-api" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 Digital Credential API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-relation-to-risk-register" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Relation to Risk Register
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-additions-and-changes-to-the-arf" class="md-nav__link">
    <span class="md-ellipsis">
      6 Additions and Changes to the ARF
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6 Additions and Changes to the ARF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-additions-and-changes-to-hlrs" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 Additions and Changes to HLRs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1 Additions and Changes to HLRs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#611-hrls-related-to-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.1 HRLs related to Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1.1 HRLs related to Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirement-1" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-2" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-3" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-4" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 4
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-5" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 5
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-6" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 6
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-7" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 7
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#612-hrls-related-to-relying-parties" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.2 HRLs related to Relying Parties
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1.2 HRLs related to Relying Parties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirement-8" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 8
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-9" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 9
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-10" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 10
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#613-hrls-related-to-privacy" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.3 HRLs related to Privacy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1.3 HRLs related to Privacy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirement-11" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 11
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-12" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 12
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-13" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 13
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-14" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 14
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-15" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 15
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-16" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 16
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#613-hrls-for-interoperability" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.3 HRLs for Interoperability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1.3 HRLs for Interoperability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirement-17" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 17
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requirement-18" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement 18
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#615-hrls-to-be-removed" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.5 HRLs to be Removed
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1.5 HRLs to be Removed">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirement-pa_01-from-topic-11" class="md-nav__link">
    <span class="md-ellipsis">
      Requirement PA_01 from Topic 11
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-additions-and-changes-to-be-added-to-the-arf-main-document" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 Additions and Changes to be added to the ARF Main Document
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-references" class="md-nav__link">
    <span class="md-ellipsis">
      7 References
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<p>Version 0.4, updated 4 February 2025</p>
<h1 id="e-pseudonyms-including-user-authentication-mechanism">E - Pseudonyms, including User authentication mechanism</h1>
<h2 id="1-introduction">1 Introduction</h2>
<h3 id="11-discussion-paper-topic-description">1.1 Discussion Paper Topic Description</h3>
<p>This document is the Discussion Paper for eIDAS Coordination Group regarding Topic E: Pseudonyms, including User authentication mechanism.
The ARF Development Plan [ARF_DevPlan] describes this Topic as follows:</p>
<p><em>High-level requirements for pseudonyms in the ARF need to be further detailed, including
specifying the use cases where pseudonyms should be applied.</em></p>
<h3 id="12-key-words">1.2 Key Words</h3>
<p>This document uses the capitalized key words 'SHALL', 'SHOULD' and 'MAY' as specified in RFC 2119, i.e., to indicate requirements, recommendations and options specified in this document.
In addition, 'must' (non-capitalized) is used to indicate an external constraint, for instance a self-evident necessity or a requirement that is mandated by an external document. The word 'can' indicates a capability, whereas other words, such as 'will', 'is' or 'are' are intended as statements of fact.</p>
<h3 id="13-document-structure">1.3 Document Structure</h3>
<p>The document is structured as follows:</p>
<ul>
<li>
<p>Chapter 2 presents the legal requirements for functionality related to pseudonyms.</p>
</li>
<li>
<p>Chapter 3 explains two identified use cases for pseudonyms as well as lists open questions related to these use cases.</p>
</li>
<li>
<p>Chapter 4 presents the technical approach to pseudonyms as well as highlights its challenges.</p>
</li>
<li>
<p>Chapter 5 relates the topic to other topics being discussed and previously identified risks.</p>
</li>
<li>
<p>Chapter 6 presents the additions and changes that will be made to the ARF as a result of discussing this topic with Member States.</p>
</li>
</ul>
<h2 id="2-legal-requirements-for-pseudonyms">2 Legal Requirements for Pseudonyms</h2>
<p>There are two legal texts that impose direct requirements on the pseudonym functionality of the Wallet Units: [CIR.2024.2979] and [eiDAS 2.0].
Below we recap the respective legal requirements from these sources.</p>
<h3 id="21-eidas-20-about-pseudonyms">2.1 [eIDAS 2.0] about Pseudonyms</h3>
<p>There are two main requirements in [eIDAS 2.0] about Pseudonyms in relation to Wallet Units:
1. Wallet Units must be able to generate pseudonyms and store them encrypted.
2. Relying Parties must accept identification via pseudonyms when there are no legal requirements for identification.</p>
<p>Below are the actual excerpts from the law including the recitals that establish these requirements.</p>
<p><strong>Recital (19)</strong></p>
<p><em>... Reliance on the legal identity should not hinder European Digital Identity Wallet users to access services under a pseudonym, where there is no legal requirement for legal identity for authentication. ...</em></p>
<p><strong>Recital (22)</strong></p>
<p><em>European Digital Identity Wallets should include a functionality to generate user-chosen and managed pseudonyms, to authenticate when accessing online services.</em></p>
<p><strong>Recital (57)</strong></p>
<p><em>Where very large online platforms within the meaning of Article 33(1) of Regulation (EU) 2022/2065 of the European Parliament and of the Council require users to be authenticated in order to access online services, those platforms should be required to accept the use of European Digital Identity Wallets upon the voluntary request of the user. Users should be under no obligation to use a European Digital Identity Wallet to access private services and should not be restricted or hindered in their access to services on the grounds that they do not use a European Digital Identity Wallet. However, if users wish to do so, very large online platforms should accept them for that purpose, while respecting the principle of data minimisation and the right of the users to use freely chosen pseudonyms. ...</em></p>
<p><strong>Recital (60)</strong></p>
<p><em>Unless specific rules of Union or national law require users to identify themselves, accessing services by using a pseudonym should not be prohibited.</em></p>
<p><strong>Article 5 Pseudonyms in electronic transaction</strong></p>
<p><em>Without prejudice to specific rules of Union or national law requiring users to identify themselves or to the legal effect given to pseudonyms under national law, the use of pseudonyms that are chosen by the user shall not be prohibited.</em></p>
<p><strong>Article 5a European Digital Identity Wallets</strong></p>
<p><em>... 4.  European Digital Identity Wallets shall enable the user, in a manner that is user-friendly, transparent, and traceable by the user, to:\
...\
(b) generate pseudonyms and store them encrypted and locally within the European Digital Identity Wallet;\
...</em></p>
<p><strong>Article 5b European Digital Identity Wallet-Relying Parties</strong></p>
<p><em>9. ... Relying parties shall not refuse the use of pseudonyms, where the identification of the user is not required by Union or national law. ...</em></p>
<p>Additionally, pseudonyms are mentioned in Article 32 and Annex IV about the validation of qualified electronic signatures and certificates. Note that the use of pseudonyms in this article is orthogonal to the notion of pseudonyms used for authentication as discussed in this discussion paper.</p>
<h3 id="22-cir20242979-about-pseudonyms">2.2 [CIR.2024.2979] about Pseudonyms</h3>
<p>[CIR.2024.2979] specifies three main requirements for pseudonyms:
1. [WebAuthn] defines the technical specification for pseudonyms.
2. The pseudonyms the wallet generates must be unique for each Relying Party.
3. The pseudonyms can be used either stand alone or in combination with other attested attributes.</p>
<p>Below are the actual excerpts from the law including the recitals that establish these requirements.</p>
<p><strong>Recital (14)</strong></p>
<p><em>The generation of wallet-relying party specific pseudonyms should enable wallet users to authenticate themselves without providing wallet-relying parties with unnecessary information. As set out in Regulation (EU) No 910/2014, wallet users are not to be hindered from accessing services under a pseudonym, where there is no legal requirement for legal identity for authentication. Therefore, the wallets are to include a functionality to generate user-chosen and managed pseudonyms, to authenticate when accessing online services. The implementation of the specifications set out in Annex V should enable these functionalities accordingly. Further, wallet-relying parties are not to request users to provide any data other than those indicated for the intended use of wallets in the relying party register. Wallet users should be enabled to verify the registration data of relying parties at any point in time.</em></p>
<p><strong>Article 14</strong></p>
<p><em>1. Wallet units shall support the generation of pseudonyms for wallet users in compliance with the technical specifications set out in Annex V.\
2. Wallet units shall support the generation, upon the request of a wallet-relying party, of a pseudonym which is specific and unique to that wallet-relying party and provide this pseudonym to the wallet-relying party, either standalone or in combination with any person identification data or electronic attribute attestation requested by that wallet-relying party.</em></p>
<p><strong>Annex V:</strong></p>
<p><em>TECHNICAL SPECIFICATIONS FOR PSEUDONYM GENERATION REFERRED TO IN ARTICLE 14\
\
Technical specifications:\
\
— WebAuthn – W3C Recommendation, 8 April 2021, Level 2, https://www.w3.org/TR/2021/REC-webauthn-2-20210408/.</em></p>
<h2 id="3-use-cases">3 Use Cases</h2>
<p>Below, we elaborate on the use cases inferred from the above legal requirements.
The distinction between the two use cases follows from Article 14 2. [CIR.2024.2979].</p>
<p>Both use cases are described in an online non-proximity-based setting where the pseudonyms are presented towards services over the internet.</p>
<h3 id="31-use-case-a-pseudonymous-authentication">3.1 Use Case A: Pseudonymous Authentication</h3>
<p>Pseudonyms can be used to authenticate a user when it is not necessary for a Relying Party to learn the identity of a user.</p>
<p>Concretely, the use case is as follows:
1. A user registers a pseudonym at a Relying Party using their Wallet Unit.
2. The user can afterwards do a series of interactions with this Relying Party.
3. If the user at a later point wishes to build upon previous interactions with this Relying Party they should then be able to authenticate with the pseudonym used for registering. Thereby, the user "logs in" to the same account at the Relying Party.
The user uses their Wallet Unit to perform this authentication.</p>
<h3 id="32-use-case-b-presentation-of-attributes-with-subsequent-authentication-using-pseudonyms">3.2 Use Case B: Presentation of Attributes with Subsequent Authentication using Pseudonyms</h3>
<p>Similarly, to above a user wishes to create an account with an associated pseudonym that can be used for subsequent authentication at later sessions.
However, in this scenario the user would like to register verifiable attributes in the form of either Person Identification Data (PID), Qualified Electronic Attestation of Attributes (QEAAs), or Electronic Attestation of Attributes (EAAs) while registering.</p>
<p>Concretely, the use case goes as follows:
1. A user registers a pseudonym and presents PID or (Q)EAAs to a Relying Party using their Wallet Unit.
2. The user can afterward do a series of interactions with this Relying Party.
3. If the user at a later point wishes to build upon previous interactions with this Relying Party they should then be able to authenticate with the pseudonym used for registering. Thereby, the user "logs in" to the same account at the Relying Party.
The user uses their Wallet Unit to perform this authentication.</p>
<h3 id="33-questions-related-to-use-cases">3.3 Questions Related to Use Cases</h3>
<p>Below, we list open questions that must still be clarified related to the above two use cases.</p>
<p><strong>Question 1:</strong> Should any other use cases be supported?</p>
<p><strong>Question 2:</strong> For both use cases: Should both cross-device and same-device flows be supported?
I.e., should registration and authentication with pseudonyms be possible both when a user initiates the interactions with the Relying Party from the same device and with a device different from the one hosting the Wallet Unit? The answer to this question will impose requirements on the interfaces between the Wallet Unit and the client a user initiates the interaction with.</p>
<p><strong>Question 3:</strong> For Use Case A: Should a single user be able to use their Wallet Unit to present several different pseudonyms to a single Relying Party? High-Level Requirements must be defined that enforces the answer to this question.</p>
<p><strong>Question 4:</strong> For both use cases: What assurances must be given to the Relying Party? Such possible assurance exists on at least three levels:</p>
<ol>
<li>No assurances are given to the Relying Party. I.e., the Relying Party is not even guaranteed that it is interacting with the Wallet Unit.</li>
<li>The Relying Party is assured that the private key corresponding to the pseudonym being stored/authenticated <em>was</em> originally stored in a Wallet Unit.</li>
<li>The Relying Party is assured that the private key corresponding to the pseudonym being stored/authenticated <em>is</em> stored in a non-revoked Wallet Unit.</li>
<li>For use case B: The Relying Party is assured that the private key corresponding to the pseudonym used to authenticate is stored on the same Wallet Unit as originally presented PID/(Q)EA.</li>
</ol>
<p>Note that, because the technical implementation of pseudonyms must rely on [WebAuthn], the possibility for achieving such assurances is to use attestations (for an explanation of this see Chapter 4).
Therefore, higher assurances comes with a trade-off in terms of surveillance risks.
For a further discussion of these risks see Chapter 5.1.</p>
<h2 id="4-high-level-approach-to-pseudonyms">4 High-Level Approach to Pseudonyms</h2>
<p>As specified in [CIR.2024.2979], [WebAuthn] defines the technical specification for pseudonyms.</p>
<p>Passkeys are a widely used type of credential which are created and asserted using the [WebAuthn] API.</p>
<h3 id="41-introduction-to-passkeys">4.1 Introduction to Passkeys</h3>
<p>Passkeys are to be seen as an alternative to passwords.
The idea is that a user, when registering a user account at a service generates a public-private key pair, registers the public key at the service, and can then subsequently use the private key to authenticate towards the service at later points in time.
In a bit more detail, the flow for using such passkeys follows the following blueprint.</p>
<p><strong>Registration:</strong>
1. The user generates a public-private keypair and stores both public and private keys at their secure device (referred to as an authenticator).
2. The user registers the public key at the desired service.</p>
<p><strong>Authentication:</strong>
1. When a user wishes to authenticate towards a service, the service will send them a challenge consisting of a random value.
2. The user uses the private key stored on their secure device to sign the challenge and sends this back to the service.
3. The service verifies that the signature on the challenge verifies using the preregistered public key. If the signature verifies and the origin matches as expected, the user is considered authenticated and thereby granted access to the service.</p>
<h3 id="42-overview-of-webauthn">4.2 Overview of [WebAuthn]</h3>
<p>[WebAuthn] defines an API for the creation and use of passkeys. Conceptually, in addition to the user, there are four different logical components in this specification:</p>
<ul>
<li><strong>Relying Party Server:</strong> The Relying Party that wishes to offer a service based on authentication using passkeys.</li>
<li><strong>Relying Party Client:</strong> The program provided by the Relying Party that runs in the client of the user and communicates with the Relying Party Server.</li>
<li><strong>Client:</strong> The client that the user uses to interact with the Relying Party's server and their Authenticator.</li>
<li><strong>Authenticator:</strong> The device controlled by the user to create, store, and use the passkeys.</li>
</ul>
<p>[WebAuthn] defines a model dividing the responsibilities between these different entities and defines an interface between the Relying Party Client and the Client. Additionally, it defines a challenge/response protocol to authenticate with passkeys.
The interface is referred to as the <em>WebAuthn API</em>.
However, [WebAuthn] does not specify how the Authenticator and the Client must communicate.
We briefly discuss the relation to Topic F in Chapter 5.</p>
<p>The Wallet Unit will act as an Authenticator in this setting.</p>
<p>Note that the Relying Party Client and the Client are two programs that are executed on the same physical machine.</p>
<p>[WebAuthn] relies on several different types of identifiers including:</p>
<ul>
<li><strong>Relying Party ID:</strong> An identifier unique to the Relying Party which must be a valid domain string. This what the user will identify the Relying Party by and let the Authenticator learn which Relying Party is asking for registration/authentication.</li>
<li><strong>Credential ID:</strong> A unique identifier chosen by the Authenticator for each passkey.</li>
<li><strong>User ID:</strong> An identifier unique to each user that is assigned by the Relying Party. This will be provided to the Authenticator when registering a new passkey and subsequently provided by the Authenticator when authenticating towards Relying Party. The Authenticator will keep track of which passkeys are available for which User IDs and Relying Party IDs. The Relying Party keeps track of a User Name for each User ID.</li>
<li><strong>User Name:</strong> An alias that may be chosen by the user or the Relying Party and assigned to a specific passkey on the Authenticator. This allows the user to easily distinguish and select which passkey they want to authenticate with if several are present.</li>
</ul>
<p>Below we elaborate on how the different components work together to allow the registration and subsequent authentication using passkeys.</p>
<h4 id="421-registration">4.2.1 Registration</h4>
<p>The flow for registering a passkey in [WebAuthn] is the following:</p>
<ol>
<li>The Relying Party Server creates a challenge and sends this along with the User ID, the Relying Party ID, and the User Name to the Relying Party Client.</li>
<li>The Relying Party Client forwards the information to the Client using the WebAuthnAPI.</li>
<li>The Client checks that the Relying Party ID is consistent with the caller's origin and forwards the information to the Authenticator along with other contextual data.</li>
<li>The Authenticator authenticates the user (for example using a PIN or via biometrics). It then generates a new key pair with a new Credential ID and set the scope of this to the specific Relying Party ID and User ID. Finally, the Authenticator generates and "attestation" (explained below) and sends this as well as the public key and its Credential ID to the Client</li>
<li>The Client then forwards the information to the Relying Party Client that again forwards it to the Relying Party Server.</li>
<li>The Relying Party Server verifies the attestation and registers the received public key for this User ID.</li>
</ol>
<p>Note that Authenticator stores the public key pair in a way such that it is scoped uniquely to a specific Relying Party aligning with the requirements of [CIR.2024.2979], Article 14 2, which states that the pseudonyms must be unique to each Relying Party.</p>
<p>The term attestation is here used differently than elsewhere in the ARF.
In this context, the attestation is not about attributes of the user, but rather about attributes of the Authenticator and is to ensure the Relying Party that they are talking with an Authenticator with certain attributes.
The attestation often takes the form of a signature on the challenge as well as some other contextual data.</p>
<p>In [WebAuthn], four different types of attestations are mentioned:</p>
<ul>
<li>
<p><strong>Basic Attestation:</strong> The Authenticator has a single master public/private key stored.
This is used to sign all attestations and a certificate on the public key is included in the attestation data to allow the Relying Party to verify the signature.</p>
</li>
<li>
<p><strong>Attestation CA:</strong> Similar to the above in the sense that the Authenticator has a single master public/private key stored. However, instead of using this to attest pass keys, they use this to authenticate towards a Certificate Authority (CA), which is then configured to issue certificates to the Authenticator on multiple attestation key pairs.</p>
</li>
<li>
<p><strong>Anonymization CA:</strong> Similar to the above except that it is explicit that the Authenticator requests a certificate for a new attestation key pair per generated passkey.</p>
</li>
<li>
<p><strong>Self Attestation:</strong> The attestation is signed with the private key of the newly generated key pair in the passkey.
  Note that this does not give any guarantees for the Relying Party about which authenticator they are interacting with.</p>
</li>
<li>
<p><strong>No Attestation Statement:</strong> No attestation is given.
  Note that this does not give any guarantees for the Relying Party about which authenticator they are interacting with.</p>
</li>
</ul>
<p>We note that Article 5a 5 a viii of [eIDAS 2.0] states  "<em>European Digital Identity Wallets shall, in particular support common protocols and interfaces: ... for relying parties to verify the authenticity and validity of European Digital Identity Wallets;...</em>". The latter two forms of attestation do not align with this requirement.</p>
<p>In Chapter 5.1, we discuss how the other relates to previously identified privacy risks about user surveillance (see also Topic A).</p>
<h4 id="422-authentication">4.2.2 Authentication</h4>
<p>The flow for authenticating using a passkey following [WebAuthn] is:</p>
<ol>
<li>The Relying Party Server creates a challenge and sends this along with its Relying Party ID to the Relying Party Client.</li>
<li>The Relying Party Client Client forwards the information to the browser using the WebAuthnAPI.</li>
<li>The Client checks that the Relying Party ID is consistent with the caller's origin and forwards the information to the Authenticator along with other contextual data.</li>
<li>The Authenticator authenticates the user (for example using a PIN or via biometrics).
   It then prompts the user to select one of the passkeys scoped to this Relying Party ID. For this step the User Name can be presented to the user.
   Finally, the private key of the chosen key pair is used to sign the challenge as well as some contextual data including the User ID, Credential ID, and the Relying Party ID.
   This is then sent to the Client.</li>
<li>The Client then forwards the information to the Relying Party Client that again forwards it to the Relying Party Server.</li>
<li>The Relying Party Server verifies the signature with its stored public key for this User ID and Credential ID and depending on the outcome of this verification considers the user authenticated.</li>
</ol>
<h3 id="43-challenges">4.3 Challenges</h3>
<p>Below we list challenges related to the use of [WebAuthn] as the technical specification for pseudonyms.</p>
<ul>
<li>Attestations may be linkable (see discussion in Chapter 5.1 and also Topic A) depending on the chosen type of attestation.</li>
<li>The information about the Relying Party is verified only by the Client and not by the Authenticator itself.
  This may be a problem as in Article 5a 5 a vii [eIDAS 2.0] it is stated that "<em>European Digital Identity Wallets shall, in particular ... ensure that the relying parties can be authenticated and identified by implementing authentication mechanisms in accordance with Article 5b;...</em>".</li>
</ul>
<h2 id="5-relation-to-other-topics">5 Relation to Other Topics</h2>
<p>Below we discuss how pseudonyms relate to the other topics being discussed.</p>
<h3 id="51-privacy-risks-and-mitigations">5.1 Privacy Risks and Mitigations</h3>
<p>Topic A - Privacy Risks and Mitigations discusses surveillance risks related to presenting Person Identification Data (PID) and (Qualified) Electronic Attestations of Attributes (Q)EAA.
Similar, concerns are relevant for the pseudonyms functionality defined by the [WebAuthn] specification.
In fact, from a linkability perspective, there are only minor differences between the attestations present in the registration flow of [WebAuthn] and other attestations such as PID and (Q)EAAs.</p>
<p>In Chapter 5.3 we discuss how this relates to the risks and threats identified in the [RiskRegister].</p>
<p>Below we consider two different types of linkability concerns for the attestation types summarized in Chapter 4.2.1 namely Relying Party Linkability and CA Linkability.
The latter form of linkability is similar to what is dubbed Attestation Provider Linkability in the discussion Paper for Topic A, but there is a mismatch between the use of the word "attestation" in the broader ARF framework and in [WebAuthn] and to avoid confusion we, therefore, use a different wording here.</p>
<h4 id="511-relying-party-linkability">5.1.1 Relying Party Linkability</h4>
<p>Relying Party Linkability is the ability for Relying Parties to link together multiple authentications performed by a user using a Wallet Unit.
Note that it is inherent for the use cases that the same Relying Party must be able to link together multiple presentations of a pseudonym as it must be unique per Relying Party.
However, two or more Relying Parties should not be able to infer any information about whether they have interacted with one or multiple users by comparing multiple authentications using pseudonyms.</p>
<p>To prevent this, it is necessary to ensure there are no unique (per Wallet Unit) presented to multiple different Relying Parties. Depending on the attestation form used for Registration (see Chapter 4.2.1) this may or may not be the case for [WebAuthn].</p>
<p>If <em>Basic Attestations</em> are used where each wallet unit holds only one attestation key pair and corresponding certificate, the public key of this attestation key pair may be exactly such unique value that is presented to multiple Relying Parties.
In [WebAuthn] it is suggested to ensure that multiple different Authenticators hold the same attestation key pair thereby no longer making it a unique value for correlation.
We note that letting several different units share the same private key is against best practices, as it increases the risk of keys being compromised.</p>
<p>If an <em>Attestation CA</em> is used to issue certificates on multiple attestation keys, the degree to which Relying Parties can correlate the different certificates can be reduced. However, as long as attestation keys are used more than once, the Relying Parties can still deduce <em>some information</em> by correlating registrations of Pseudonyms.
The mitigation is similar to the proposals of Method B and Method C (Limited-time Attestations and Rotating-batch Attestations) from the discussion paper on topic A.</p>
<p>If an <em>Anonymization CA</em> is used to issue certificates on single-use-only attestation keys, Relying Parties are not able to correlate information about multiple presentations.
We refer to this as being <em>Relying Party unlinkable</em>.</p>
<p>Neither <em>Self Attestation</em> nor <em>No Attestation</em> allows Relying Parties to correlate information about multiple presentations of pseudonyms. That is they are Relying Party unlinkable.</p>
<h4 id="512-ca-linkability">5.1.2 CA Linkability</h4>
<p>Certificate Authority (CA) linkability is the ability to track a user's interactions at several different Relying Parties by combining the information from those Relying Parties with information from CAs (in case such exists).</p>
<p>Note that all the attestation types that are Relying Party linkable also are CA linkable by definition as the information available to CAs and Relying Parties is a superset of the information available only to multiple Relying Parties.</p>
<p>Both the types <em>Attestation CA</em> and <em>Anonymization CA</em> are CA linkable as CAs can store which public key that issue certificates to and share with which Wallet Unit. By correlating this with the information available at the Relying Parties it is possible to track how the different Wallet Unit uses the pseudonym functionality.</p>
<p>Neither <em>Self Attestation</em> nor <em>No Attestation</em> includes any information from a CA and Relying Parties are not able to correlate information about multiple presentations of pseudonyms with this form of attestation type. That is they are both also CA unlinkable.</p>
<h4 id="513-drawbacks-of-different-attestation-types">5.1.3 Drawbacks of Different Attestation Types</h4>
<p>In the table below we summarize information from previous chapters w.r.t. drawbacks of the different attestation types.</p>
<table>
<thead>
<tr>
<th>Attestation Type</th>
<th>Drawbacks</th>
</tr>
</thead>
<tbody>
<tr>
<td>Basic Attestations</td>
<td>Relying Party and CA linkable</td>
</tr>
<tr>
<td>Attestation CA</td>
<td>CA linkable and to some degree still Relying Party linkable</td>
</tr>
<tr>
<td>Anonymization CA</td>
<td>CA linkable</td>
</tr>
<tr>
<td>Self Attestation</td>
<td>No assurances for Relying Parties</td>
</tr>
<tr>
<td>No Attestation</td>
<td>No assurances for Relying Parties</td>
</tr>
</tbody>
</table>
<h3 id="52-wallet-unit-attestations">5.2 Wallet Unit Attestations</h3>
<blockquote>
<p>Note that Topic C - Wallet Unit Attestation has not yet been drafted and the following is based on assumptions on content</p>
</blockquote>
<p>Topic C - Wallet Unit Attestations (WUA) And Key Attestations discusses how the Wallet Unit can document its functional and security capabilities, e.g., support for secure hardware, revocation status, etc.</p>
<p>Certain WUA elements are somewhat sensitive, as they may allow for linkability, and are only intended for PID and Attestation Providers, when performing issuance. Other parts of the WUA is used to prove that the Wallet Unit has not been revoked. This information is less sensitive and is intended for Relying Parties.</p>
<p>When a Wallet Unit and Relying Party performs registration of a pseudonym, key material will be stored on the Wallet Unit. This can be seen as a special case of issuance, in which the Relying Party acts the issuer and will be interested in what security guarantees the Wallet Unit can provide. Topic C should distinguish between a Relying Party acting as a Relying Party and Pseudonym issuer.</p>
<p>There are two main areas of Topic C that are particularly relevant in relation to Pseudonyms:</p>
<ul>
<li>
<p><strong>Wallet Trust Evidence:</strong> Part of the WUA contains information on functional and cryptographic capabilities of the Wallet Unit (currently known as WTE). HRL WTE_24 <em>A Wallet Instance SHALL release a WTE only to a PID Provider or Attestation Provider, and not to a Relying Party or any other party.</em> states that an RP must not receive WTE information from the WU, however this prohibits a number of the HRLs related to issuance. Essentially, only the <em>Self Attestation</em> and <em>No Attestation</em> attestation types mentioned in Chapter 4.2.1 can be supported without access to WTE.</p>
</li>
<li>
<p><strong>Revocation:</strong> Pseudonyms are local to each Relying Party, which makes revocation somewhat easy: The Relying Party can simply invalidate the pseudonym locally and the Wallet Unit will no longer be able to access that Relying Party. This revocation will not affect other functionality of the Wallet Unit, e.g., other Pseudonyms, PID and attestations will remain valid. In addition to local revocation, it may be desireable for the Relying Party to be able to revoke the entire Wallet Unit. If this functionality is to be supported, there must be some kind of attestation (see Chapter 4.2.1) in place.</p>
</li>
</ul>
<h4 id="521-questions-related-to-wallet-unit-attestation">5.2.1 Questions Related to Wallet Unit Attestation</h4>
<p>Below, we list open questions that must still be clarified related to the interaction with WUA.</p>
<p><strong>Question 1:</strong> Should a Relying Party be able to revoke more than just local pseudonyms?</p>
<h3 id="53-digital-credential-api">5.3 Digital Credential API</h3>
<p>As stated in Chapter 4, [WebAuthn] does not specify the interface between the Wallet Units (i.e., Authenticators) and the Client used by the user to initiate the usage of the pseudonyms.
Discussion Topic F must also take into account providing a seamless integration for the use of pseudonyms.</p>
<h3 id="54-relation-to-risk-register">5.4 Relation to Risk Register</h3>
<p>As pseudonyms may be used to provide authentication, a large number of the risks listed
in the risk register for European Digital Identity Wallets [RiskRegister] are (at least indirectly)
related to the use of pseudonyms:</p>
<table>
<colgroup>
<col style="width: 31%" />
<col style="width: 14%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr>
<th><strong>Risk type </strong></th>
<th><strong>Risk ID </strong></th>
<th><strong>Related risk titles </strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>High-level risks to the wallets</strong></td>
<td>R2</td>
<td>Creation or use of a fake electronic identity</td>
</tr>
<tr>
<td><strong>High-level risks to the wallets</strong></td>
<td>R4</td>
<td>Identify theft</td>
</tr>
<tr>
<td><strong>High-level risks to the wallets</strong></td>
<td>R5</td>
<td>Data theft</td>
</tr>
<tr>
<td><strong>High-level risks to the wallets</strong></td>
<td>R6</td>
<td>Data disclosure</td>
</tr>
<tr>
<td><strong>High-level risks to the wallets</strong></td>
<td>R9</td>
<td>Unauthorised transaction</td>
</tr>
<tr>
<td><strong>High-level risks to the wallets</strong></td>
<td>R10</td>
<td>Transaction manipulation</td>
</tr>
<tr>
<td><strong>High-level risks to the wallets</strong></td>
<td>R14</td>
<td>Surveillance</td>
</tr>
</tbody>
</table>

<p>Some of the Technical Threats from the [Risk Register] (threats labelled TTX.Y in
its section III) are also relevant threats to consider in the context of pseudonyms. This is primarily
TT5. Malicious actions, in which threats, such as TT5.1 Interception of information or TT5.3 Replay of messages, may lead to the risks
expressed in the table above.</p>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr>
<th><strong>R2. Creation or use of a fake electronic identity</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Creation or use of a fake electronic identity is defined as the creation of an electronic identity in a wallet that does not exist
in the real world.</td>
</tr>
</tbody>
</table>

<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr>
<th><strong>R4. Identity theft</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Identity theft is defined as the unauthorised acquisition of the wallet unit or loss of authentication factors enabling to
impersonate a person.</td>
</tr>
</tbody>
</table>

<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr>
<th><strong>R5. Data theft</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Data theft is defined as the unauthorised extraction of data. Data theft is also associated to threats, such as data interception
(unauthorised capture of data in transit) and data decryption (unauthorised decoding of encrypted data), which are likely to
lead in some cases to Data disclosure (R6).</td>
</tr>
</tbody>
</table>

<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr>
<th><strong>R6. Data Disclosure</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Data disclosure is defined as the unauthorised exposure of personal
data including special categories of personal data. The privacy breach risk
is very similar when considered from a privacy rather than security viewpoint.</td>
</tr>
</tbody>
</table>

<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr>
<th><strong>R9. Unauthorised transaction</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Unauthorised transactions are defined as operational activities conducted without the permission or knowledge of the
wallet user. In many cases, an unauthorised transaction can lead to Identity theft (R4) or Data disclosure (R6). It is also
related to unauthorised transactions, such as the misuse of cryptographic keys.</td>
</tr>
</tbody>
</table>

<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr>
<th><strong>R10. Transaction manipulation</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Transaction manipulation is defined as the unauthorised alteration of operations in the wallet. Transaction manipulation is
an attack on integrity, and it is related to a data integrity breach.</td>
</tr>
</tbody>
</table>

<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr>
<th><strong>R14. Surveillance</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Surveillance, or monitoring, is defined as the unauthorised tracking
or observation of a wallet user's activities, communication, or data.
Surveillance is often related to inference, which is defined as the
deduction of sensitive or personal information from seemingly innocuous
data.</td>
</tr>
</tbody>
</table>

<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr>
<th><strong>SR1. Wholesale surveillance</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Wholesale surveillance is defined as the tracking or observation of
the activities of many users through their wallet's communication or
data. Wholesale surveillance is often associated with surveillance (R14)
and inference at a global scale, where information about many users is
combined to deduce sensitive or personal data about users or to identify
statistical trends that can be used to design further attacks.</td>
</tr>
</tbody>
</table>

<p>More specifically, [RiskRegister] describes the following threats in relation to pseudonyms:</p>
<table style="width:100%;">
<colgroup>
<col style="width: 13%" />
<col style="width: 51%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr>
<th><strong>ID<br />
</strong><em>Identifier</em></th>
<th><strong>Threat description<br />
</strong><em>Description of the identified threat</em> (*)</th>
<th><strong>Risk title<br />
</strong><em>Related risks</em></th>
</tr>
</thead>
<tbody>
<tr>
<td>TR1</td>
<td>An attacker can revoke pseudonyms without justified reason.</td>
<td>Creation or use of a fake electronic identity (R2)
</td>
</tr>
<tr>
<td>TR26</td>
<td>PID, (Q)EAAs or pseudonyms can be presented to a wrong relying party.</td>
<td>Data disclosure (R6)</td>
</tr>
<tr>
<td>TR39</td>
<td>An attacker can unlawfully trace wallet users using unique/traceable
identifiers.</td>
<td>Data disclosure (R6) and Surveillance (R14)</td>
</tr>
<td>TR51</td>
<td>An attacker can convince a user to share personal data (i.e. PID, EAA-s, pseudonyms, electronic signatures, logs and other data) with the attacker or with a third party that the user did not intend to do so.</td>
<td>Data theft (R5) / Data disclosure (R6)</td>
</tr>
<td>TR55</td>
<td>An attacker can bypass the user authentication method to use
a pseudonym generated by a wallet unit.
</td>
<td>Identity theft (R4)</td>
</tr>
<tr>
<td>TR84</td>
<td>A group of colluding relying parties or PID providers can derive the
user's identity data beyond data known to them.</td>
<td>Surveillance (R14)</td>
</tr>
<tr>
<td>TR85</td>
<td>An attacker can track and trace a user by using person
identification data of the user where identification of the user
is not required.</td>
<td>Surveillance (R14)</td>
</tr>
<tr>
<td>TR91</td>
<td>A relying party can replay elements from a previous session in
another session.</td>
<td>Transaction manipulation (R10)</td>
</tr>
<tr>
<td>TR102</td>
<td>An attacker can impersonate relying parties during the
connection to relying parties.</td>
<td>Unauthorised transaction (R9) / Data
disclosure (R6)</td>
</tr>
<tr>
<td>TR105</td>
<td>An attacker can perform man-in-the-middle attacks.</td>
<td>Unauthorised transaction (R9) / Data
disclosure (R6) / Surveillance (R14)</td>
</tr>
</tbody>
</table>

<blockquote>
<p>Note that there is no threat corresponding to TR68-71 (Attacker can revoke without consent/reason) in relation to pseudonyms.</p>
</blockquote>
<p>R14, SR1, TR39, and TR84 are particularly relevant to consider given the discussion in Chapter 5.1, namely linkability of attestations in [WebAuthn].</p>
<p>TR26, TR102, and TR105 are particularly relevant for the challenge described in Chapter 4.3, namely that the Relying Party is only authenticated by the Client and not by the Wallet Unit.</p>
<h2 id="6-additions-and-changes-to-the-arf">6 Additions and Changes to the ARF</h2>
<p>Pseudonyms can be used to support many different functionalities. In particular, at least: 
1. User authentication via. a pseudonym as envisioned in Use Case A and B. 
2. Pseudonyms with attested attributes that can be presented to Relying Parties, using the attributes. This can further come in at least two variants namely self-attested attributes and third-party attested attributes each being useful in different settings.</p>
<p>Below we propose changes and additions to the ARF both related to High Level Requirements (HRLs) for the topic and for the ARF main document only to ensure user authentication via pseudonyms.
There are no hindrances for member states or other actors to define for example additional attestation types that can be used to support for example pseudonyms with attested attributes. 
The below is merely a proposal for the minimal HRLs that must be fulfilled by all actors in the EUDI Wallet ecosystem related to the pseudonym and user authentication functionality.</p>
<h3 id="61-additions-and-changes-to-hlrs">6.1 Additions and Changes to HLRs</h3>
<p>The below HRLs will be added to the Annex II, Topic 11 of the ARF.</p>
<h4 id="611-hrls-related-to-use-cases">6.1.1 HRLs related to Use Cases</h4>
<h5 id="requirement-1">Requirement 1</h5>
<p>A Wallet Instance SHALL allow a User to generate a Pseudonym and register this at a Relying Party.</p>
<blockquote>
<p>Rationale: This is necessary to support Use Case A and B.</p>
</blockquote>
<h5 id="requirement-2">Requirement 2</h5>
<p>A Wallet Instance SHALL allow a User to authenticate with a Pseudonym towards a Relying Party if the Wallet Instance was used to previously register a Pseudonym for the same Relying Party.</p>
<blockquote>
<p>Rationale: This is necessary to support Use Case A and B.</p>
</blockquote>
<h5 id="requirement-3">Requirement 3</h5>
<p>A Wallet Instance SHALL be able to perform the actions specified in the above two requirements independently of whether the interaction with the Relying Party is initiated on the same device as the Wallet Instance or on a device different from the Wallet Instance.</p>
<blockquote>
<p>Rationale: Both cross device and same-device flows must be possible.</p>
</blockquote>
<h5 id="requirement-4">Requirement 4</h5>
<p>A Wallet Instance SHALL allow the User to register multiple different Pseudonyms at a given Relying Party.</p>
<blockquote>
<p>Rationale: It should be possible for a User to use their EUDIW both in a work and personal context and more Pseudonyms should therefore be possible.</p>
</blockquote>
<h5 id="requirement-5">Requirement 5</h5>
<p>Wallet Instance SHALL enable the User to freely choose a User alias for each Pseudonym registered at a Relying Party.
An alias SHALL be a text string.
Setting an alias SHALL be optional for the User.
The User SHALL be able to change the alias for any Pseudonym.</p>
<blockquote>
<p>Rationale: Setting an alias helps the User to recognize and distinguish Pseudonyms, which otherwise may be meaningless sequences of symbols.</p>
</blockquote>
<h5 id="requirement-6">Requirement 6</h5>
<p>A Wallet Instance SHALL allow a User to choose which Pseudonym to authenticate with towards a Relying Party if multiple Pseudonyms are registered for this Relying Party. The user shall be presented with the alias of their of Pseudonyms if assigned when this choice must be made.</p>
<blockquote>
<p>Rationale: A User should be able to freely choose which Pseudonym to use if multiple are available.</p>
</blockquote>
<h5 id="requirement-7">Requirement 7</h5>
<p>A Wallet Instance SHALL allow a User to delete a Pseudonym in which case it shall not be possible to recover.</p>
<blockquote>
<p>Rationale: A User should be allowed to choose if they no longer wishes to have a Pseudonym associated with their Wallet Instance.</p>
</blockquote>
<h4 id="612-hrls-related-to-relying-parties">6.1.2 HRLs related to Relying Parties</h4>
<h5 id="requirement-8">Requirement 8</h5>
<p>A Relying Party SHALL be able to verify that a User is registering a Pseudonym using a non-revoked Wallet Instance.</p>
<blockquote>
<p>Rationale: A Relying Party should be able to achieve a high level of trust in authentication performed using this Pseudonym when this is a requirement.</p>
</blockquote>
<h5 id="requirement-9">Requirement 9</h5>
<p>A Relying Party SHALL be able to verify that a User is authenticating with a Pseudonym using a non-revoked Wallet Instance.</p>
<blockquote>
<p>Rationale: A Relying Party should be able to achieve a high level of trust in authentication performed using this Pseudonym when this is a requirement.</p>
</blockquote>
<h5 id="requirement-10">Requirement 10</h5>
<p>If Wallet Instance is used to register a Pseudonym at a Relying Party and afterwards PID/(Q)EAAs are presented to the same Relying Party in the same session, then this Relying Party SHALL be able to verify that the same Wallet Instance have been used to perform both actions.</p>
<blockquote>
<p>Rationale: A Relying Party should be able to be assured that they can trust subsequent authentications with the Pseudonym to have the properties as presented int he PID/(Q)EAAs.</p>
<p>Note: The above <em>only</em> states the high-level requirement. Later technical specifications will define how this is enabled.</p>
</blockquote>
<h4 id="613-hrls-related-to-privacy">6.1.3 HRLs related to Privacy</h4>
<p>Note that the requirements WTE_03 and WTE_04 from Topic 9 ensures that a Wallet Instance must authenticate a User before Pseudonyms are, viewed, created or used to authenticate towards Relying Parties. We therefore do not think it is necessary to add further requirements realted to this. </p>
<p>The placement of these HRLs will be discussed in Topic C.</p>
<p>Further, note that RPA_01 and RPA_03 from Topic 6 ensures that Wallet Instances SHALL authenticate Relying Parties also in the Pseudonym use case. It is therefore not necessary to specify further HRLs related to this.</p>
<h5 id="requirement-11">Requirement 11</h5>
<p>A Wallet Instance SHALL store the information necessary for authenticating with a Pseudonym encrypted in their WSCD.</p>
<blockquote>
<p>Rationale: It is made explicit in Article 5a 4. b of [eiDAS 2.0] that the Pseudonyms must be stored encrypted.</p>
</blockquote>
<h5 id="requirement-12">Requirement 12</h5>
<p>A Relying Party SHALL NOT be able to derive the User’s true identity, or any data identifying the User, from the Pseudonym value received by the Relying Party.</p>
<blockquote>
<p>Rationale: This is what makes a Pseudonym a Pseudonym, as opposed to an identifier.</p>
</blockquote>
<h5 id="requirement-13">Requirement 13</h5>
<p>A Wallet Instance SHALL always release a different value for the Pseudonym of a given User to different Relying Parties.</p>
<blockquote>
<p>Rationale: This is important to ensure that colluding Relying Parties cannot use the Pseudonyms  to track the User.</p>
</blockquote>
<h5 id="requirement-14">Requirement 14</h5>
<p>It SHALL NOT be possible to correlate Pseudonyms based on their values nor on the actions performed by the Wallet Instance during registration and authentication, meaning that colluding Relying Parties SHALL NOT able to conclude that Pseudonyms released by a User to different Relying Parties belong to the same User.</p>
<blockquote>
<p>Rationale: If this was possible, it would defeat the purpose of using different Pseudonyms and would allow colluding Relying Parties to track the User.</p>
</blockquote>
<h5 id="requirement-15">Requirement 15</h5>
<p>The Wallet Instance SHALL ensure that Pseudonyms contain sufficient entropy to make the chance of colliding Pseudonyms (meaning two Users having the same Pseudonym value for the same Relying Party) negligible.</p>
<blockquote>
<p>Rationale: If Pseudonym collision could occur in practice, User recognition by the Relying Party would fail, because the wrong User would be matched to another account and thereby the Relying Party could reveal sensitive information to a wrong User.</p>
</blockquote>
<h5 id="requirement-16">Requirement 16</h5>
<p>A Wallet Instance MUST NOT share the user's optionally assigned Pseudonym aliases with any Relying Party.</p>
<blockquote>
<p>Rationale: The aliases are a convenience thing for users and they should be allowed to choose them as they like without having to consider whether it contains sensitive data or not.</p>
</blockquote>
<h4 id="613-hrls-for-interoperability">6.1.3 HRLs for Interoperability</h4>
<h5 id="requirement-17">Requirement 17</h5>
<p>The Commission SHALL create or reference a profile or extension of the WebAuthn specification compliant with the HRLs for this topic.</p>
<blockquote>
<p>Rationale: It must be ensured that the HRLs are conformed to an in an interoperable manner.</p>
</blockquote>
<h5 id="requirement-18">Requirement 18</h5>
<p>Wallet Providers SHALL ensure that their Wallet Solution supports WebAuthn with additions and changes as documented in this document and future technical specifications created by or on behalf of the Commission.</p>
<blockquote>
<p>Rationale: This ensures that Relying Parties can implement a uniform interface to let any User register and authenticate with Pseudonyms if they have an EUDIW.</p>
</blockquote>
<h4 id="615-hrls-to-be-removed">6.1.5 HRLs to be Removed</h4>
<h5 id="requirement-pa_01-from-topic-11">Requirement PA_01 from Topic 11</h5>
<p>PA_01 states:</p>
<p><em>Pseudonym Providers, Pseudonym attestations, and Wallet Instances SHALL comply with all applicable requirements in [Pseudonym Rulebook].</em></p>
<blockquote>
<p>Rationale for removal: Pseudonym providers are no longer used for the Pseudonyms functionality.</p>
</blockquote>
<h3 id="62-additions-and-changes-to-be-added-to-the-arf-main-document">6.2 Additions and Changes to be added to the ARF Main Document</h3>
<p>To be added once agreement on HRLs have been reached.</p>
<h2 id="7-references">7 References</h2>
<table>
<thead>
<tr>
<th>Reference</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[WebAuthn]</td>
<td>Web Authentication: An API for accessing Public Key Credentials Level 2 W3C Recommendation, 8 April 2021, https://www.w3.org/TR/webauthn-2/</td>
</tr>
<tr>
<td>[ARF_DevPlan]</td>
<td>Architecture and Reference Framework Development plan 2025, European Commission, v1,0.</td>
</tr>
<tr>
<td>[RiskRegister]</td>
<td>Annex 1 to the Commission Implementing Regulation laying down rules for the application of Regulation (EU) No 910/2014 of the European Parliament and of the Council as regards the certification of the European Digital Identity Wallets, European Commission, October 2024, draft</td>
</tr>
<tr>
<td>[eIDAS 2.0]</td>
<td>Regulation (EU) 2024/1183 of the European Parliament and of the Council of 11 April 2024 amending Regulation (EU) No 910/2014 as regards establishing the European Digital Identity Framework</td>
</tr>
<tr>
<td>[CIR.2024.2979]</td>
<td>Commission Implementing Regulation (EU) 2024/2979 of 28 November 2024 laying down rules for the application of Regulation (EU) No 910/2014 of the European Parliament and of the Council as regards the integrity and core functionalities of European Digital Identity Wallets</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>